<div class="form-container">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="fill">
      <mat-label>Number 1</mat-label>
      <input matInput formControlName="number1" type="number" />
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Number 2</mat-label>
      <input matInput formControlName="number2" type="number" />
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Number 3</mat-label>
      <input matInput formControlName="number3" type="number" />
    </mat-form-field>

    <div class="form-actions">
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="form.invalid"
      >
        Calculate
      </button>
    </div>
  </form>
</div>

<div class="table-container">
  <cdk-virtual-scroll-viewport itemSize="50" class="viewport">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="number1">
        <th mat-header-cell *matHeaderCellDef>
          <div class="header-cell-content">Number 1</div>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-content">{{ element.number1 }}</div>
        </td>
      </ng-container>

      <ng-container matColumnDef="number2">
        <th mat-header-cell *matHeaderCellDef>
          <div class="header-cell-content">Number 2</div>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-content">{{ element.number2 }}</div>
        </td>
      </ng-container>

      <ng-container matColumnDef="number3">
        <th mat-header-cell *matHeaderCellDef>
          <div class="header-cell-content">Number 3</div>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-content">{{ element.number3 }}</div>
        </td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>
          <div class="header-cell-content">Status</div>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-content">{{ element.status }}</div>
        </td>
      </ng-container>

      <ng-container matColumnDef="average">
        <th mat-header-cell *matHeaderCellDef>
          <div class="header-cell-content">Average</div>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-content">{{ element.average }}</div>
        </td>
      </ng-container>

      <ng-container matColumnDef="median">
        <th mat-header-cell *matHeaderCellDef>
          <div class="header-cell-content">Median</div>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="cell-content">{{ element.median }}</div>
        </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>
          <div class="header-cell-content">Actions</div>
        </th>
        <td mat-cell *matCellDef="let element; let i = index" class="actions">
          <div class="cell-content">
            <button
              mat-raised-button
              *ngIf="element.status === 'Successfully'"
              (click)="removeCalculation(i)"
            >
              Remove
            </button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </cdk-virtual-scroll-viewport>
</div>
